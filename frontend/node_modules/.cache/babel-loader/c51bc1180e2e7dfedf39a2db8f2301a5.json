{"ast":null,"code":"import _slicedToArray from\"C:/Users/svyat/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:name,about:description});}React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,props.isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,name:\"user-info\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-input\",className:\"form__input form__input_type_name\",value:name||'',onChange:handleChangeName,name:\"name\",type:\"text\",minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__error name-input-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"about-input\",className:\"form__input form__input_type_about\",value:description||'',onChange:handleChangeDescription,name:\"about\",type:\"text\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__error about-input-error\"})]})]});}export default EditProfilePopup;","map":{"version":3,"sources":["C:/Users/svyat/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","useState","name","setName","description","setDescription","handleChangeName","e","target","value","handleChangeDescription","handleSubmit","preventDefault","onUpdateUser","about","useEffect","isOpen","onClose"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAE7B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBJ,kBAAjB,CAApB,CAEA,oBAAwBF,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCT,KAAK,CAACO,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEA,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CACzBJ,OAAO,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAChCF,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACrBA,CAAC,CAACK,cAAF,GAEAd,KAAK,CAACe,YAAN,CAAmB,CACfX,IAAI,CAAJA,IADe,CAEfY,KAAK,CAAEV,WAFQ,CAAnB,EAIH,CAGDV,KAAK,CAACqB,SAAN,CAAgB,UAAM,CAClBZ,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACe,KAAb,CAAd,CACH,CAHD,CAGG,CAACf,WAAD,CAAcD,KAAK,CAACkB,MAApB,CAHH,EAMA,mBACI,MAAC,aAAD,EACI,MAAM,CAAElB,KAAK,CAACkB,MADlB,CAEI,OAAO,CAAElB,KAAK,CAACmB,OAFnB,CAGI,QAAQ,CAAEN,YAHd,CAII,IAAI,CAAC,WAJT,CAKI,KAAK,CAAC,2HALV,CAMI,MAAM,CAAC,wDANX,wBAOI,eAAO,SAAS,CAAC,aAAjB,wBACI,cACI,EAAE,CAAC,YADP,CAEI,SAAS,CAAC,mCAFd,CAGI,KAAK,CAAET,IAAI,EAAI,EAHnB,CAII,QAAQ,CAAEI,gBAJd,CAKI,IAAI,CAAC,MALT,CAMI,IAAI,CAAC,MANT,CAOI,SAAS,CAAC,GAPd,CAQI,SAAS,CAAC,IARd,CASI,QAAQ,KATZ,EADJ,cAWI,aAAM,SAAS,CAAC,8BAAhB,EAXJ,GAPJ,cAoBI,eAAO,SAAS,CAAC,aAAjB,wBACI,cACI,EAAE,CAAC,aADP,CAEI,SAAS,CAAC,oCAFd,CAGI,KAAK,CAAEF,WAAW,EAAI,EAH1B,CAII,QAAQ,CAAEM,uBAJd,CAKI,IAAI,CAAC,OALT,CAMI,IAAI,CAAC,MANT,CAOI,SAAS,CAAC,GAPd,CAQI,SAAS,CAAC,KARd,CASI,QAAQ,KATZ,EADJ,cAWI,aAAM,SAAS,CAAC,+BAAhB,EAXJ,GApBJ,GADJ,CAoCH,CAED,cAAeb,CAAAA,gBAAf","sourcesContent":["import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about)\r\n    }, [currentUser, props.isOpen])\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            name=\"user-info\"\r\n            title=\"Редактировать профиль\"\r\n            button=\"Сохранить\">\r\n            <label className=\"form__field\">\r\n                <input\r\n                    id=\"name-input\"\r\n                    className=\"form__input form__input_type_name\"\r\n                    value={name || ''}\r\n                    onChange={handleChangeName}\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    required />\r\n                <span className=\"form__error name-input-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n                <input\r\n                    id=\"about-input\"\r\n                    className=\"form__input form__input_type_about\"\r\n                    value={description || ''}\r\n                    onChange={handleChangeDescription}\r\n                    name=\"about\"\r\n                    type=\"text\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    required />\r\n                <span className=\"form__error about-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup"]},"metadata":{},"sourceType":"module"}