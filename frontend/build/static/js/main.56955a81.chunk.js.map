{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","images/add-button.svg","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","className","href","target","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","onClick","onCardClick","name","link","onCardDelete","type","aria-label","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","profileAddButton","id","cards","map","Footer","PopupWithForm","isOpen","onClose","onSubmit","title","children","button","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","placeholder","ImagePopup","api","options","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","this","then","_getResponseData","inputValues","method","body","JSON","stringify","cardId","Component","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","getUserInfo","userInfo","catch","err","console","log","getCards","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","newArr","editUserInfo","createCard","editAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.56955a81.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6989b009.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header page__header\">\r\n            <a href=\"#\" target=\"_self\"><img className=\"header__logo\" src={headerLogo}\r\n                alt=\"Логотип Место\" /></a>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/add-button.bed8c136.svg\";","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const isLiked = props.card.likes.some(i => {\r\n        return i._id === currentUser._id\r\n    });\r\n    const cardLikeButtonClassName = (\r\n        `like__button ${isLiked ? 'like__button_active' : ''}`\r\n    );\r\n    const cardDeleteButtonClassName = (\r\n        `element__trash-btn ${isOwn ? 'element__trash-btn_visible' : 'element__trash-btn_hidden'}`\r\n    );\r\n\r\n\r\n    function handleCardClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <article className=\"element\">\r\n                <img className=\"element__image\" onClick={handleCardClick} alt={props.card.name} src={props.card.link} />\r\n                <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" aria-label=\"Удалить\"></button>\r\n                <div className=\"element__block\">\r\n                    <h2 className=\"element__title\">{props.card.name}</h2>\r\n                    <div className=\"like\">\r\n                        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"Нравится\"></button>\r\n                        <span className=\"like__counter\">{props.card.likes.length}</span>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport profileAddButton from '../images/add-button.svg';\r\nimport Card from './Card'\r\n\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n        <main className=\"content page__content\">\r\n            <section className=\"profile content__profile\">\r\n                <div className=\"profile__block\">\r\n                    <div className=\"avatar\" onClick={props.onEditAvatar}>\r\n                        <div className=\"avatar__overlay\"></div>\r\n                        <img className=\"avatar__image\" src={currentUser.avatar} alt=\"Аватар пользователя\" />\r\n                    </div>\r\n                    <div className=\"profile__info\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button className=\"profile__button\" onClick={props.onEditProfile} type=\"button\" aria-label=\"Редактировать профиль\"></button>\r\n                        <p className=\"profile__about\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button\" onClick={props.onAddPlace}><img src={profileAddButton} alt=\"Создать\"\r\n                    className=\"profile__add-button-img\" /></button>\r\n            </section>\r\n            <section id=\"elements\" className=\"elements content__elements\">\r\n                {\r\n                    props.cards.map(card =>\r\n                    (<Card\r\n                        key={card._id}\r\n                        card={card}\r\n                        currentUser={currentUser}\r\n                        onCardClick={props.onCardClick}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete}>\r\n                    </Card>\r\n                    ))\r\n                }\r\n            </section>\r\n        </main >\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer page__footer\">\r\n            <p className=\"footer__text\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup popup_type_${props.name} ${props.isOpen ? ('popup_opened') : ''}`}>\r\n                <div className=\"popup__container\">\r\n                    <button className=\"popup__close\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\"></button>\r\n                    <form\r\n                        className=\"form\"\r\n                        onSubmit={props.onSubmit}\r\n                        id={props.name}\r\n                        name={props.name}>\r\n                        <h2 className=\"form__header\">{props.title}</h2>\r\n                        {props.children}\r\n                        <button className=\"form__button\" type=\"submit\">{props.button}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about)\r\n    }, [currentUser, props.isOpen])\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            name=\"user-info\"\r\n            title=\"Редактировать профиль\"\r\n            button=\"Сохранить\">\r\n            <label className=\"form__field\">\r\n                <input\r\n                    id=\"name-input\"\r\n                    className=\"form__input form__input_type_name\"\r\n                    value={name || ''}\r\n                    onChange={handleChangeName}\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    required />\r\n                <span className=\"form__error name-input-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n                <input\r\n                    id=\"about-input\"\r\n                    className=\"form__input form__input_type_about\"\r\n                    value={description || ''}\r\n                    onChange={handleChangeDescription}\r\n                    name=\"about\"\r\n                    type=\"text\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    required />\r\n                <span className=\"form__error about-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            name=\"edit-avatar\"\r\n            title=\"Обновить аватар\"\r\n            button=\"Сохранить\">\r\n            <label className=\"form__field form__field_under\">\r\n                <input\r\n                    id=\"avatar-input\"\r\n                    ref={avatarRef}\r\n                    className=\"form__input form__input_type_avatar\"\r\n                    name=\"link\"\r\n                    type=\"url\"\r\n                    required />\r\n                <span className=\"form__error avatar-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [title, setTitle] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleChangeTitle(e) {\r\n        setTitle(e.target.value)\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value)\r\n    }\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            title: title,\r\n            link: link,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            name=\"add-card\"\r\n            title=\"Новое место\"\r\n            button=\"Создать\">\r\n            <label className=\"form__field\">\r\n                <input\r\n                    id=\"title-input\"\r\n                    className=\"form__input form__input_type_title\"\r\n                    value={title}\r\n                    onChange={handleChangeTitle}\r\n                    name=\"title\"\r\n                    type=\"text\"\r\n                    placeholder=\"Название\"\r\n                    minLength=\"1\"\r\n                    maxLength=\"30\"\r\n                    required />\r\n                <span className=\"form__error title-input-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n                <input\r\n                    id=\"link-input\"\r\n                    className=\"form__input form__input_type_link\"\r\n                    value={link}\r\n                    onChange={handleChangeLink}\r\n                    name=\"link\"\r\n                    type=\"url\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    required />\r\n                <span className=\"form__error link-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n    return (\r\n        <div className={`popup popup_show-image ${props.card ? ('popup_opened') : ''}`}>\r\n            <figure className=\"popup__block\">\r\n                <button className=\"popup__close\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\"></button>\r\n                <img className=\"popup__image\" alt={props.card ? (props.card.name) : ''} src={props.card ? (props.card.link) : ''} />\r\n                <figcaption className=\"popup__caption\">{props.card ? (props.card.name) : ''}</figcaption>\r\n            </figure>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import React from 'react';\r\n\r\nclass Api extends React.Component {\r\n    constructor(options) {\r\n        super(options);\r\n\r\n        this.baseUrl = options.baseUrl;\r\n        this.headers = options.headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this.baseUrl}` + '/cards', {\r\n            headers: this.headers,\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    createCard(inputValues) {\r\n        return fetch(`${this.baseUrl}` + '/cards', {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: inputValues.title,\r\n                link: inputValues.link\r\n            })\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this.baseUrl}` + '/cards/' + `${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        return fetch(`${this.baseUrl}` + '/cards/likes/' + `${cardId}`, {\r\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n            headers: this.headers\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n\r\n    // putLike(cardId) {\r\n    //     return fetch(`${this.baseUrl}` + '/cards/likes/' + `${cardId}`, {\r\n    //         method: 'PUT',\r\n    //         headers: this.headers,\r\n    //     })\r\n    //         .then(this._getResponseData)\r\n    // }\r\n\r\n    // deleteLike(cardId) {\r\n    //     return fetch(`${this.baseUrl}` + '/cards/likes/' + `${cardId}`, {\r\n    //         method: 'DELETE',\r\n    //         headers: this.headers,\r\n    //     })\r\n    //         .then(this._getResponseData)\r\n    // }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}` + '/users/me', {\r\n            headers: this.headers\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    editUserInfo(inputValues) {\r\n        return fetch(`${this.baseUrl}` + '/users/me', {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: inputValues.name,\r\n                about: inputValues.about,\r\n            })\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n\r\n    editAvatar(inputValues) {\r\n        return fetch(`${this.baseUrl}` + '/users/me/avatar', {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: inputValues.avatar\r\n            })\r\n        })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n    headers: {\r\n        authorization: 'be14df10-ef56-405e-9870-1c2d83310783',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;","import React from 'react';\r\nimport '../index.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then(userInfo => {\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    api.getCards()\r\n      .then(res => {\r\n        setCards(res);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n\r\n    setSelectedCard(null)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  function handleUpdateUser(card) {\r\n    api.editUserInfo(card)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n\r\n        setEditProfilePopupOpen(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n\r\n  }\r\n\r\n  function handleUpdateAvatar(card) {\r\n    api.editAvatar(card)\r\n      .then(res => {\r\n        setCurrentUser(res);\r\n\r\n        setEditAvatarPopupOpen(false)\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => {\r\n          return state.filter(newArr => {\r\n            return newArr !== card\r\n          })\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.createCard(card)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards]);\r\n\r\n        setAddPlacePopupOpen(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n      <Main\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onEditProfile={handleEditProfileClick}\r\n        onCardClick={handleCardClick}\r\n        cards={cards}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n        setCards={setCards} />\r\n      <Footer />\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}>\r\n      </EditProfilePopup>\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}>\r\n      </AddPlacePopup>\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}>\r\n      </EditAvatarPopup>\r\n      <PopupWithForm\r\n        name=\"delete-card\"\r\n        title=\"Вы уверены?\"\r\n        button=\"Да\">\r\n      </PopupWithForm>\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}>\r\n      </ImagePopup>\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render((\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>),\r\n    document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}